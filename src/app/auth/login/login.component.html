<div class="login-container">
  <div class="login-box">

    <img src="./assets/images/ofc-logo.png" alt="OfferCraft" class="logo" />
    
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div appearance="fill" class="full-width">
        <!-- <input matInput formControlName="email" type="email" placeholder="Enter Email" (blur)="checkLockStatus()" [class.invalid]="email?.invalid && email?.touched" /> -->
        <input type="text" class="form-control ng-dirty ng-valid ng-touched" formControlName="email" placeholder="Username" 
        (blur)="checkLockStatus()" [class.invalid]="email?.invalid && email?.touched" 
        [ngClass]="{ 'is-invalid': email?.invalid && email?.touched }"
        />
        <div *ngIf="email?.invalid && email?.touched" class="error-message">
          <small *ngIf="email?.errors?.['required']">Email is required.</small>
          <small *ngIf="email?.errors?.['email']">Invalid email format.</small>
        </div>
      </div>
      
      <div appearance="fill" class="full-width">
        <!-- <input matInput formControlName="password" type="password" placeholder="Enter Password" [class.invalid]="password?.invalid && password?.touched"/> -->
        <input type="password" class="form-control ng-dirty ng-valid ng-touched" formControlName="password" 
        placeholder="Password" 
        [class.invalid]="password?.invalid && password?.touched" 
        [ngClass]="{ 'is-invalid': email?.invalid && email?.touched}"
        />
        <div *ngIf="password?.invalid && password?.touched" class="error-message">
          <small *ngIf="password?.errors?.['required']">Password is required.</small>
          <small *ngIf="password?.errors?.['minlength']">Password must be at least 4 characters.</small>
        </div>
      </div>
      <div class="d-grid mb-3">
        <button type="submit" class="full-width" class="btn btn-block btn-primary" [disabled]="countdown > 0 || form.invalid">Login</button>
      </div>
    </form>

    <p *ngIf="error" style="color:red;">{{ error }}</p>
    <div style="margin-top: 1rem;">
      <a routerLink="/forgot-password" class="forgot-password-link">Forgot your Password?</a>
    </div>
  </div>
</div>
